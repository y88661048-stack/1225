const _0x48073b=_0x3ec9;(function(_0x3f82f3,_0x41622a){const _0x32aad0=_0x3ec9,_0x1a96e3=_0x3f82f3();while(!![]){try{const _0x34fc7=-parseInt(_0x32aad0(0x1e1))/0x1+-parseInt(_0x32aad0(0x1e6))/0x2*(-parseInt(_0x32aad0(0x17c))/0x3)+-parseInt(_0x32aad0(0x16f))/0x4+-parseInt(_0x32aad0(0x1a7))/0x5+parseInt(_0x32aad0(0x1e9))/0x6*(parseInt(_0x32aad0(0x179))/0x7)+-parseInt(_0x32aad0(0x210))/0x8*(-parseInt(_0x32aad0(0x20b))/0x9)+-parseInt(_0x32aad0(0x171))/0xa;if(_0x34fc7===_0x41622a)break;else _0x1a96e3['push'](_0x1a96e3['shift']());}catch(_0x4205ce){_0x1a96e3['push'](_0x1a96e3['shift']());}}}(_0x51ea,0x88ca0));const express=require(_0x48073b(0x1be)),app=express(),axios=require(_0x48073b(0x19e)),os=require('os'),fs=require('fs'),path=require(_0x48073b(0x1ae)),{promisify}=require(_0x48073b(0x172)),exec=promisify(require(_0x48073b(0x1e3))[_0x48073b(0x1f0)]),{execSync}=require(_0x48073b(0x1e3)),UPLOAD_URL=process['env'][_0x48073b(0x1b9)]||'',PROJECT_URL=process[_0x48073b(0x1fe)][_0x48073b(0x1b4)]||'',AUTO_ACCESS=process[_0x48073b(0x1fe)][_0x48073b(0x1ab)]||![],FILE_PATH=process[_0x48073b(0x1fe)]['FILE_PATH']||_0x48073b(0x1ed),SUB_PATH=process[_0x48073b(0x1fe)][_0x48073b(0x166)]||_0x48073b(0x178),PORT=process[_0x48073b(0x1fe)]['SERVER_PORT']||process[_0x48073b(0x1fe)][_0x48073b(0x1cc)]||0xbb8,UUID=process['env'][_0x48073b(0x1a0)]||_0x48073b(0x1c0),NEZHA_SERVER=process['env'][_0x48073b(0x1e7)]||'',NEZHA_PORT=process[_0x48073b(0x1fe)][_0x48073b(0x1ac)]||'',NEZHA_KEY=process[_0x48073b(0x1fe)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x48073b(0x1fe)]['ARGO_DOMAIN']||_0x48073b(0x195),ARGO_AUTH=process[_0x48073b(0x1fe)][_0x48073b(0x153)]||'',ARGO_PORT=process[_0x48073b(0x1fe)][_0x48073b(0x1d3)]||0x1f41,CFIP=process[_0x48073b(0x1fe)]['CFIP']||_0x48073b(0x192),CFPORT=process[_0x48073b(0x1fe)]['CFPORT']||0x1bb,NAME=process[_0x48073b(0x1fe)][_0x48073b(0x187)]||'';function _0x51ea(){const _0xacb3a9=['https://amd64.ssss.nyc.mn/bot','none','listen','stringify','ARGO_AUTH','http','vless','\x20successfully','aarch64','response','join','text/plain;\x20charset=utf-8','split','&path=%2Fvless-argo%3Fed%3D2560#','?encryption=none&security=tls&sni=','application/json','/vmess-argo?ed=2560','true','mkdirSync','2053','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Error\x20executing\x20command:\x20','2096','SUB_PATH','fileName','\x0a\x20\x20\x20\x20','\x20>/dev/null\x202>&1','unlinkSync','\x20failed:\x20','platform','set','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','1018300qnskJD','nohup\x20','7247970EMxHYT','util','win32','App\x20is\x20running','/vmess-argo','push','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','sub','130949IaLkas','tls','direct','159fVmbif','Error\x20downloading\x20files:','from','Subscription\x20uploaded\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','forEach','/api/add-subscriptions','blackhole','unshift','npm\x20running\x20error:\x20','NAME','random','error','xtls-rprx-vision','php\x20running\x20error:\x20','charAt','/api/delete-nodes','data','/dev/null','https://arm64.ssss.nyc.mn/web','config.json','cdns.doon.eu.org','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel.yml','yun8866','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','post','https://arm64.ssss.nyc.mn/agent','tcp','basename','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','filter','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','axios','quic','UUID','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','443','2083','status','all','utf-8','1975800TxLFOz','writeFileSync','match','/sub.txt\x20saved\x20successfully','AUTO_ACCESS','NEZHA_PORT','8443','path','https+local://8.8.8.8/dns-query','catch','Add\x20automatic\x20access\x20task\x20faild:\x20','floor','127.0.0.1','PROJECT_URL','\x20-p\x20','\x0a\x20\x20credentials-file:\x20','has','unlink','UPLOAD_URL','pop','\x20is\x20running','arch','pkill\x20-f\x20\x22[','express','/config.json\x20>/dev/null\x202>&1\x20&','9afd1229-b893-40c1-84dd-51e7ce204913','finish','--tls','/trojan-argo','org','&fp=firefox&type=ws&host=','ARGO_DOMAIN:','statSync','pipe','length','\x20>/dev/null\x202>&1\x20&','success','PORT','\x20-c\x20','Download\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20-c\x20\x22','message','countryCode','ARGO_PORT','Error\x20in\x20startserver:','Empowerment\x20failed\x20for\x20','base64','taskkill\x20/f\x20/im\x20','list.txt','toString','substring','false','http://ip-api.com/json/','Nodes\x20uploaded\x20successfully','/tunnel.yml\x20run','\x0a\x0atrojan://','https://arm64.ssss.nyc.mn/v1','84948DwAvML','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','child_process','includes','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','13526fXxrdl','NEZHA_SERVER','get','318nuFlUZ','arm64','freedom','boot.log','./tmp','automatic\x20access\x20task\x20added\x20successfully','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','exec','tunnel.json','test','TunnelSecret','config.yaml','Unhandled\x20error\x20in\x20startserver:','\x0a\x0avmess://','2087','rm\x20-rf\x20','/vless-argo','\x20>\x20nul\x202>&1','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/web','block','env','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','chmod','stream','http\x20server\x20is\x20running\x20on\x20port:','readFileSync','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Hello\x20world!','\x0avless://','https://oooo.serv00.net/add-url','\x20is\x20created','Unknown','country_code','369RUGEpe','send','Error\x20reading\x20boot.log:','trojan','del\x20/f\x20/q\x20','130704kIVuLt','log','amd','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','arm','vmess','then','existsSync','clear','fileUrl','sub.txt'];_0x51ea=function(){return _0xacb3a9;};return _0x51ea();}!fs[_0x48073b(0x14b)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x48073b(0x208))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3dce2f=_0x48073b,_0x162f82='abcdefghijklmnopqrstuvwxyz';let _0x200f03='';for(let _0xc2052a=0x0;_0xc2052a<0x6;_0xc2052a++){_0x200f03+=_0x162f82['charAt'](Math[_0x3dce2f(0x1b2)](Math[_0x3dce2f(0x188)]()*_0x162f82[_0x3dce2f(0x1c9)]));}return _0x200f03;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x48073b(0x159)](FILE_PATH,npmName),phpPath=path[_0x48073b(0x159)](FILE_PATH,phpName),webPath=path[_0x48073b(0x159)](FILE_PATH,webName),botPath=path[_0x48073b(0x159)](FILE_PATH,botName),subPath=path[_0x48073b(0x159)](FILE_PATH,_0x48073b(0x14e)),listPath=path['join'](FILE_PATH,_0x48073b(0x1d8)),bootLogPath=path[_0x48073b(0x159)](FILE_PATH,_0x48073b(0x1ec)),configPath=path['join'](FILE_PATH,_0x48073b(0x191));function deleteNodes(){const _0x34020a=_0x48073b;try{if(!UPLOAD_URL)return;if(!fs[_0x34020a(0x14b)](subPath))return;let _0x11f0a2;try{_0x11f0a2=fs[_0x34020a(0x203)](subPath,_0x34020a(0x1a6));}catch{return null;}const _0x378947=Buffer['from'](_0x11f0a2,_0x34020a(0x1d6))[_0x34020a(0x1d9)]('utf-8'),_0x2bcaa3=_0x378947[_0x34020a(0x15b)]('\x0a')['filter'](_0x22b2bf=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x34020a(0x1f2)](_0x22b2bf));if(_0x2bcaa3[_0x34020a(0x1c9)]===0x0)return;return axios[_0x34020a(0x197)](UPLOAD_URL+_0x34020a(0x18d),JSON[_0x34020a(0x152)]({'nodes':_0x2bcaa3}),{'headers':{'Content-Type':_0x34020a(0x15e)}})[_0x34020a(0x1b0)](_0x27df40=>{return null;}),null;}catch(_0x44714c){return null;}}function cleanupOldFiles(){const _0x28b680=_0x48073b;try{const _0x261faf=fs['readdirSync'](FILE_PATH);_0x261faf[_0x28b680(0x182)](_0x12a5b7=>{const _0x27c644=_0x28b680,_0x2851bb=path[_0x27c644(0x159)](FILE_PATH,_0x12a5b7);try{const _0x5736c5=fs[_0x27c644(0x1c7)](_0x2851bb);_0x5736c5['isFile']()&&fs[_0x27c644(0x16a)](_0x2851bb);}catch(_0x7d85dd){}});}catch(_0x3e3f84){}}app[_0x48073b(0x1e8)]('/',function(_0x55a4f2,_0x1354bc){const _0x1496c5=_0x48073b;_0x1354bc['send'](_0x1496c5(0x205));});async function generateConfig(){const _0x3cbe24=_0x48073b,_0x2400b4={'log':{'access':'/dev/null','error':_0x3cbe24(0x18f),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x3cbe24(0x18a)}],'decryption':_0x3cbe24(0x150),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x3cbe24(0x175),'dest':0xbbb},{'path':_0x3cbe24(0x1c3),'dest':0xbbc}]},'streamSettings':{'network':_0x3cbe24(0x199)}},{'port':0xbb9,'listen':_0x3cbe24(0x1b3),'protocol':_0x3cbe24(0x155),'settings':{'clients':[{'id':UUID}],'decryption':_0x3cbe24(0x150)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x3cbe24(0x1b3),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3cbe24(0x150)},'streamSettings':{'network':'ws','security':_0x3cbe24(0x150),'wsSettings':{'path':_0x3cbe24(0x1f9)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3cbe24(0x17a),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3cbe24(0x215),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3cbe24(0x175)}},'sniffing':{'enabled':!![],'destOverride':[_0x3cbe24(0x154),_0x3cbe24(0x17a),_0x3cbe24(0x19f)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3cbe24(0x1b3),'protocol':_0x3cbe24(0x20e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3cbe24(0x150),'wsSettings':{'path':_0x3cbe24(0x1c3)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3cbe24(0x1af)]},'outbounds':[{'protocol':_0x3cbe24(0x1eb),'tag':_0x3cbe24(0x17b)},{'protocol':_0x3cbe24(0x184),'tag':_0x3cbe24(0x1fd)}]};fs[_0x3cbe24(0x1a8)](path[_0x3cbe24(0x159)](FILE_PATH,_0x3cbe24(0x191)),JSON[_0x3cbe24(0x152)](_0x2400b4,null,0x2));}function getSystemArchitecture(){const _0x1ea7ed=_0x48073b,_0x361d28=os[_0x1ea7ed(0x1bc)]();return _0x361d28===_0x1ea7ed(0x214)||_0x361d28===_0x1ea7ed(0x1ea)||_0x361d28===_0x1ea7ed(0x157)?_0x1ea7ed(0x214):_0x1ea7ed(0x212);}function downloadFile(_0x1e9983,_0x3b6e35,_0x122b54){const _0x546ea1=_0x48073b,_0x1c6e03=_0x1e9983;!fs['existsSync'](FILE_PATH)&&fs[_0x546ea1(0x161)](FILE_PATH,{'recursive':!![]});const _0xa4ddf5=fs['createWriteStream'](_0x1c6e03);axios({'method':'get','url':_0x3b6e35,'responseType':_0x546ea1(0x201)})[_0x546ea1(0x216)](_0x50acc0=>{const _0x406826=_0x546ea1;_0x50acc0[_0x406826(0x18e)][_0x406826(0x1c8)](_0xa4ddf5),_0xa4ddf5['on'](_0x406826(0x1c1),()=>{const _0x1769da=_0x406826;_0xa4ddf5['close'](),console[_0x1769da(0x211)]('Download\x20'+path['basename'](_0x1c6e03)+_0x1769da(0x156)),_0x122b54(null,_0x1c6e03);}),_0xa4ddf5['on'](_0x406826(0x189),_0x4581cd=>{const _0x46f4f1=_0x406826;fs[_0x46f4f1(0x1b8)](_0x1c6e03,()=>{});const _0x15b7a4=_0x46f4f1(0x1ce)+path[_0x46f4f1(0x19a)](_0x1c6e03)+_0x46f4f1(0x16b)+_0x4581cd[_0x46f4f1(0x1d1)];console['error'](_0x15b7a4),_0x122b54(_0x15b7a4);});})['catch'](_0x57fcf7=>{const _0x4bf992=_0x546ea1,_0x1a0e94=_0x4bf992(0x1ce)+path[_0x4bf992(0x19a)](_0x1c6e03)+'\x20failed:\x20'+_0x57fcf7[_0x4bf992(0x1d1)];console[_0x4bf992(0x189)](_0x1a0e94),_0x122b54(_0x1a0e94);});}async function downloadFilesAndRun(){const _0x1e2b23=_0x48073b,_0x1f799b=getSystemArchitecture(),_0x3b76b9=getFilesForArchitecture(_0x1f799b);if(_0x3b76b9[_0x1e2b23(0x1c9)]===0x0){console[_0x1e2b23(0x211)](_0x1e2b23(0x163));return;}const _0x1e6d5b=_0x3b76b9['map'](_0x4c9988=>{return new Promise((_0x11148d,_0x1af90b)=>{const _0x282446=_0x3ec9;downloadFile(_0x4c9988[_0x282446(0x167)],_0x4c9988[_0x282446(0x14d)],(_0x28c3ee,_0x5e2546)=>{_0x28c3ee?_0x1af90b(_0x28c3ee):_0x11148d(_0x5e2546);});});});try{await Promise[_0x1e2b23(0x1a5)](_0x1e6d5b);}catch(_0x3451b8){console['error'](_0x1e2b23(0x17d),_0x3451b8);return;}function _0x30f4b1(_0x171ade){const _0x33adac=_0x1e2b23,_0x2e7c52=0x1fd;_0x171ade[_0x33adac(0x182)](_0x2e137c=>{const _0x14595f=_0x33adac;fs[_0x14595f(0x14b)](_0x2e137c)&&fs[_0x14595f(0x200)](_0x2e137c,_0x2e7c52,_0xcd9185=>{const _0x4676ad=_0x14595f;_0xcd9185?console[_0x4676ad(0x189)](_0x4676ad(0x1d5)+_0x2e137c+':\x20'+_0xcd9185):console[_0x4676ad(0x211)]('Empowerment\x20success\x20for\x20'+_0x2e137c+':\x20'+_0x2e7c52[_0x4676ad(0x1d9)](0x8));});});}const _0x57bfb1=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x30f4b1(_0x57bfb1);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x128c4c=NEZHA_SERVER[_0x1e2b23(0x1e4)](':')?NEZHA_SERVER[_0x1e2b23(0x15b)](':')[_0x1e2b23(0x1ba)]():'',_0x19c75a=new Set(['443',_0x1e2b23(0x1ad),_0x1e2b23(0x165),'2087',_0x1e2b23(0x1a3),_0x1e2b23(0x162)]),_0x120884=_0x19c75a[_0x1e2b23(0x1b7)](_0x128c4c)?_0x1e2b23(0x160):_0x1e2b23(0x1db),_0x37c22b=_0x1e2b23(0x1fb)+NEZHA_KEY+_0x1e2b23(0x1ef)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x120884+_0x1e2b23(0x180)+UUID;fs[_0x1e2b23(0x1a8)](path[_0x1e2b23(0x159)](FILE_PATH,_0x1e2b23(0x1f4)),_0x37c22b);const _0x22b3ff=_0x1e2b23(0x170)+phpPath+_0x1e2b23(0x1d0)+FILE_PATH+_0x1e2b23(0x193);try{await exec(_0x22b3ff),console[_0x1e2b23(0x211)](phpName+'\x20is\x20running'),await new Promise(_0x36a91b=>setTimeout(_0x36a91b,0x3e8));}catch(_0x443251){console[_0x1e2b23(0x189)](_0x1e2b23(0x18b)+_0x443251);}}else{let _0x2f3856='';const _0x50e2cb=[_0x1e2b23(0x1a2),_0x1e2b23(0x1ad),_0x1e2b23(0x165),_0x1e2b23(0x1f7),_0x1e2b23(0x1a3),_0x1e2b23(0x162)];_0x50e2cb[_0x1e2b23(0x1e4)](NEZHA_PORT)&&(_0x2f3856=_0x1e2b23(0x1c2));const _0x2a9957=_0x1e2b23(0x170)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1e2b23(0x1b5)+NEZHA_KEY+'\x20'+_0x2f3856+_0x1e2b23(0x1ff);try{await exec(_0x2a9957),console['log'](npmName+_0x1e2b23(0x1bb)),await new Promise(_0x24e1bb=>setTimeout(_0x24e1bb,0x3e8));}catch(_0x178d2b){console[_0x1e2b23(0x189)](_0x1e2b23(0x186)+_0x178d2b);}}}else console['log'](_0x1e2b23(0x181));const _0x531813=_0x1e2b23(0x170)+webPath+_0x1e2b23(0x1cd)+FILE_PATH+_0x1e2b23(0x1bf);try{await exec(_0x531813),console[_0x1e2b23(0x211)](webName+_0x1e2b23(0x1bb)),await new Promise(_0x51f8cd=>setTimeout(_0x51f8cd,0x3e8));}catch(_0x59fac6){console[_0x1e2b23(0x189)]('web\x20running\x20error:\x20'+_0x59fac6);}if(fs[_0x1e2b23(0x14b)](botPath)){let _0x5e0f42;if(ARGO_AUTH[_0x1e2b23(0x1a9)](/^[A-Z0-9a-z=]{120,250}$/))_0x5e0f42=_0x1e2b23(0x177)+ARGO_AUTH;else ARGO_AUTH[_0x1e2b23(0x1a9)](/TunnelSecret/)?_0x5e0f42=_0x1e2b23(0x196)+FILE_PATH+_0x1e2b23(0x1de):_0x5e0f42=_0x1e2b23(0x1e2)+FILE_PATH+_0x1e2b23(0x1a1)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5e0f42+_0x1e2b23(0x1ca)),console[_0x1e2b23(0x211)](botName+_0x1e2b23(0x1bb)),await new Promise(_0x22559c=>setTimeout(_0x22559c,0x7d0));}catch(_0x46468e){console[_0x1e2b23(0x189)](_0x1e2b23(0x164)+_0x46468e);}}await new Promise(_0x51d064=>setTimeout(_0x51d064,0x1388));}function getFilesForArchitecture(_0x40816a){const _0x325c76=_0x48073b;let _0x3e4df3;_0x40816a===_0x325c76(0x214)?_0x3e4df3=[{'fileName':webPath,'fileUrl':_0x325c76(0x190)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3e4df3=[{'fileName':webPath,'fileUrl':_0x325c76(0x1fc)},{'fileName':botPath,'fileUrl':_0x325c76(0x14f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1ad80e=_0x40816a===_0x325c76(0x214)?_0x325c76(0x198):'https://amd64.ssss.nyc.mn/agent';_0x3e4df3[_0x325c76(0x185)]({'fileName':npmPath,'fileUrl':_0x1ad80e});}else{const _0xbb3bd2=_0x40816a===_0x325c76(0x214)?_0x325c76(0x1e0):'https://amd64.ssss.nyc.mn/v1';_0x3e4df3['unshift']({'fileName':phpPath,'fileUrl':_0xbb3bd2});}}return _0x3e4df3;}function argoType(){const _0x273a8d=_0x48073b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x273a8d(0x211)](_0x273a8d(0x204));return;}if(ARGO_AUTH['includes'](_0x273a8d(0x1f3))){fs[_0x273a8d(0x1a8)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x459406='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x273a8d(0x15b)]('\x22')[0xb]+_0x273a8d(0x1b6)+path[_0x273a8d(0x159)](FILE_PATH,_0x273a8d(0x1f1))+_0x273a8d(0x16e)+ARGO_DOMAIN+_0x273a8d(0x1cf)+ARGO_PORT+_0x273a8d(0x213);fs[_0x273a8d(0x1a8)](path[_0x273a8d(0x159)](FILE_PATH,_0x273a8d(0x194)),_0x459406);}else console['log'](_0x273a8d(0x19b));}async function extractDomains(){const _0x2754a4=_0x48073b;let _0xc2bd7c;if(ARGO_AUTH&&ARGO_DOMAIN)_0xc2bd7c=ARGO_DOMAIN,console['log'](_0x2754a4(0x1c6),_0xc2bd7c),await _0x50ed23(_0xc2bd7c);else try{const _0x3057f1=fs['readFileSync'](path['join'](FILE_PATH,_0x2754a4(0x1ec)),'utf-8'),_0x50d573=_0x3057f1[_0x2754a4(0x15b)]('\x0a'),_0x51b869=[];_0x50d573['forEach'](_0x1ed449=>{const _0x40ade8=_0x2754a4,_0x11cce8=_0x1ed449[_0x40ade8(0x1a9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x11cce8){const _0xf9ccf3=_0x11cce8[0x1];_0x51b869['push'](_0xf9ccf3);}});if(_0x51b869[_0x2754a4(0x1c9)]>0x0)_0xc2bd7c=_0x51b869[0x0],console[_0x2754a4(0x211)]('ArgoDomain:',_0xc2bd7c),await _0x50ed23(_0xc2bd7c);else{console['log'](_0x2754a4(0x19d)),fs[_0x2754a4(0x16a)](path[_0x2754a4(0x159)](FILE_PATH,_0x2754a4(0x1ec)));async function _0x508c43(){const _0x4956de=_0x2754a4;try{process['platform']==='win32'?await exec(_0x4956de(0x1d7)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x4956de(0x1bd)+botName[_0x4956de(0x18c)](0x0)+']'+botName[_0x4956de(0x1da)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4f70a6){}}_0x508c43(),await new Promise(_0xe156b0=>setTimeout(_0xe156b0,0xbb8));const _0x267c05=_0x2754a4(0x1e2)+FILE_PATH+_0x2754a4(0x1a1)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x267c05+_0x2754a4(0x1ca)),console[_0x2754a4(0x211)](botName+_0x2754a4(0x1bb)),await new Promise(_0x35b325=>setTimeout(_0x35b325,0xbb8)),await extractDomains();}catch(_0x4076af){console[_0x2754a4(0x189)](_0x2754a4(0x164)+_0x4076af);}}}catch(_0x300a73){console[_0x2754a4(0x189)](_0x2754a4(0x20d),_0x300a73);}async function _0x1b82d9(){const _0x17efd4=_0x2754a4;try{const _0x22fdda=await axios[_0x17efd4(0x1e8)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x22fdda['data']&&_0x22fdda[_0x17efd4(0x18e)][_0x17efd4(0x20a)]&&_0x22fdda['data'][_0x17efd4(0x1c4)])return _0x22fdda['data'][_0x17efd4(0x20a)]+'_'+_0x22fdda['data'][_0x17efd4(0x1c4)];}catch(_0x5d3346){try{const _0x1a13b8=await axios[_0x17efd4(0x1e8)](_0x17efd4(0x1dc),{'timeout':0xbb8});if(_0x1a13b8['data']&&_0x1a13b8['data'][_0x17efd4(0x1a4)]===_0x17efd4(0x1cb)&&_0x1a13b8[_0x17efd4(0x18e)][_0x17efd4(0x1d2)]&&_0x1a13b8[_0x17efd4(0x18e)][_0x17efd4(0x1c4)])return _0x1a13b8[_0x17efd4(0x18e)][_0x17efd4(0x1d2)]+'_'+_0x1a13b8['data'][_0x17efd4(0x1c4)];}catch(_0x1675e5){}}return _0x17efd4(0x209);}async function _0x50ed23(_0x5dbd88){const _0x5ed657=await _0x1b82d9(),_0x5be015=NAME?NAME+'-'+_0x5ed657:_0x5ed657;return new Promise(_0x331de6=>{setTimeout(()=>{const _0x59f590=_0x3ec9,_0x5da488={'v':'2','ps':''+_0x5be015,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x59f590(0x150),'net':'ws','type':'none','host':_0x5dbd88,'path':_0x59f590(0x15f),'tls':_0x59f590(0x17a),'sni':_0x5dbd88,'alpn':'','fp':'firefox'},_0x11c8cb=_0x59f590(0x206)+UUID+'@'+CFIP+':'+CFPORT+_0x59f590(0x15d)+_0x5dbd88+_0x59f590(0x1c5)+_0x5dbd88+_0x59f590(0x15c)+_0x5be015+_0x59f590(0x1f6)+Buffer[_0x59f590(0x17e)](JSON[_0x59f590(0x152)](_0x5da488))[_0x59f590(0x1d9)](_0x59f590(0x1d6))+_0x59f590(0x1df)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x5dbd88+_0x59f590(0x1c5)+_0x5dbd88+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x5be015+_0x59f590(0x168);console[_0x59f590(0x211)](Buffer['from'](_0x11c8cb)['toString'](_0x59f590(0x1d6))),fs[_0x59f590(0x1a8)](subPath,Buffer[_0x59f590(0x17e)](_0x11c8cb)[_0x59f590(0x1d9)](_0x59f590(0x1d6))),console[_0x59f590(0x211)](FILE_PATH+_0x59f590(0x1aa)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x436860,_0x1cbd88)=>{const _0xfb3c62=_0x59f590,_0x10a735=Buffer[_0xfb3c62(0x17e)](_0x11c8cb)[_0xfb3c62(0x1d9)](_0xfb3c62(0x1d6));_0x1cbd88[_0xfb3c62(0x16d)]('Content-Type',_0xfb3c62(0x15a)),_0x1cbd88[_0xfb3c62(0x20c)](_0x10a735);}),_0x331de6(_0x11c8cb);},0x7d0);});}}async function uploadNodes(){const _0x33642f=_0x48073b;if(UPLOAD_URL&&PROJECT_URL){const _0x1992e0=PROJECT_URL+'/'+SUB_PATH,_0x47795e={'subscription':[_0x1992e0]};try{const _0x587090=await axios[_0x33642f(0x197)](UPLOAD_URL+_0x33642f(0x183),_0x47795e,{'headers':{'Content-Type':_0x33642f(0x15e)}});return _0x587090&&_0x587090[_0x33642f(0x1a4)]===0xc8?(console[_0x33642f(0x211)](_0x33642f(0x17f)),_0x587090):null;}catch(_0xb341ac){if(_0xb341ac[_0x33642f(0x158)]){if(_0xb341ac[_0x33642f(0x158)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5754c3=fs['readFileSync'](listPath,_0x33642f(0x1a6)),_0x2db87e=_0x5754c3[_0x33642f(0x15b)]('\x0a')[_0x33642f(0x19c)](_0x210b61=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x33642f(0x1f2)](_0x210b61));if(_0x2db87e[_0x33642f(0x1c9)]===0x0)return;const _0x37a7fa=JSON['stringify']({'nodes':_0x2db87e});try{const _0x4e0151=await axios[_0x33642f(0x197)](UPLOAD_URL+'/api/add-nodes',_0x37a7fa,{'headers':{'Content-Type':_0x33642f(0x15e)}});return _0x4e0151&&_0x4e0151[_0x33642f(0x1a4)]===0xc8?(console[_0x33642f(0x211)](_0x33642f(0x1dd)),_0x4e0151):null;}catch(_0x52d678){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xd4c692=_0x3ec9,_0x5cb75c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5cb75c['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5cb75c[_0xd4c692(0x176)](phpPath);process[_0xd4c692(0x16c)]===_0xd4c692(0x173)?exec(_0xd4c692(0x20f)+_0x5cb75c[_0xd4c692(0x159)]('\x20')+_0xd4c692(0x1fa),_0x150097=>{const _0x515f94=_0xd4c692;console[_0x515f94(0x14c)](),console[_0x515f94(0x211)](_0x515f94(0x174)),console[_0x515f94(0x211)](_0x515f94(0x1e5));}):exec(_0xd4c692(0x1f8)+_0x5cb75c[_0xd4c692(0x159)]('\x20')+_0xd4c692(0x169),_0x25df93=>{const _0x6a211=_0xd4c692;console[_0x6a211(0x14c)](),console[_0x6a211(0x211)](_0x6a211(0x174)),console[_0x6a211(0x211)](_0x6a211(0x1e5));});},0x15f90);}cleanFiles();function _0x3ec9(_0x1a70b9,_0x158fa5){const _0x51ea29=_0x51ea();return _0x3ec9=function(_0x3ec90d,_0x5923cd){_0x3ec90d=_0x3ec90d-0x14b;let _0x56c01a=_0x51ea29[_0x3ec90d];return _0x56c01a;},_0x3ec9(_0x1a70b9,_0x158fa5);}async function AddVisitTask(){const _0x240ae2=_0x48073b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x240ae2(0x211)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x46729b=await axios['post'](_0x240ae2(0x207),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x240ae2(0x15e)}});return console[_0x240ae2(0x211)](_0x240ae2(0x1ee)),_0x46729b;}catch(_0x4ca23e){return console[_0x240ae2(0x189)](_0x240ae2(0x1b1)+_0x4ca23e[_0x240ae2(0x1d1)]),null;}}async function startserver(){const _0x126900=_0x48073b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x494ab3){console[_0x126900(0x189)](_0x126900(0x1d4),_0x494ab3);}}startserver()[_0x48073b(0x1b0)](_0x510fb3=>{const _0x636b0f=_0x48073b;console[_0x636b0f(0x189)](_0x636b0f(0x1f5),_0x510fb3);}),app[_0x48073b(0x151)](PORT,()=>console[_0x48073b(0x211)](_0x48073b(0x202)+PORT+'!'));
